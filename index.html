<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>é˜²é»„æ£€æµ‹ç³»ç»Ÿ</title>
<style>
body {
    font-family: Arial, sans-serif;
    text-align: center;
    background-color: #f5f5f5;
    transition: 0.5s;
}

.container {
    margin-top: 100px;
}

h2 {
    margin-bottom: 30px;
}

button {
    display: block;
    margin: 10px auto;
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
}

.progress-container {
    width: 300px;
    height: 20px;
    background: #ddd;
    margin: 20px auto;
    border-radius: 10px;
}

.progress-bar {
    height: 100%;
    width: 0%;
    background: orange;
    border-radius: 10px;
    transition: 0.5s;
}

.full-yellow {
    background-color: yellow !important;
}

.warning {
    font-size: 20px;
    margin-top: 20px;
    color: red;
}
</style>
</head>

<body>

<div class="container" id="game">
    <div class="progress-container">
        <div class="progress-bar" id="progress"></div>
    </div>
    <p id="percent">å½“å‰é»„åº¦å€¼ï¼š0%</p>

    <h2 id="question">ä½ ä»Šå¤©æƒ³å’Œå¥³æœ‹å‹èŠä»€ä¹ˆï¼Ÿ</h2>

    <div id="options">
        <button onclick="firstAnswer(0)">A. å­¦ä¹ </button>
        <button onclick="firstAnswer(0)">B. æ—…æ¸¸</button>
        <button onclick="firstAnswer(0)">C. å·¥ä½œ</button>
        <button onclick="firstAnswer(50)">D. äº²çˆ±çš„</button>
    </div>
</div>

<script>
let yellowValue = 0;

function updateProgress(value) {
    yellowValue = value;
    document.getElementById("progress").style.width = value + "%";
    document.getElementById("percent").innerText = "å½“å‰é»„åº¦å€¼ï¼š" + value + "%";
}

function firstAnswer(value) {
    updateProgress(value);

    document.getElementById("question").innerText = "ä½ ä»Šå¤©æœ€æƒ³å’Œå¥³æœ‹å‹åšä»€ä¹ˆï¼Ÿ";

    document.getElementById("options").innerHTML = `
        <button onclick="secondAnswer(0)">A. èŠå¤©</button>
        <button onclick="secondAnswer(0)">B. é€›è¡—</button>
        <button onclick="secondAnswer(0)">C. åƒé¥­</button>
        <button onclick="secondAnswer(100)">D. äº²äº²å¥¹</button>
    `;
}

function secondAnswer(value) {
    updateProgress(value);

    if (value === 100) {
        document.body.classList.add("full-yellow");

        document.getElementById("game").innerHTML = `
            <h1>âš  ç³»ç»Ÿå·²è‡ªåŠ¨é€šçŸ¥æ‚¨çš„å¥³æœ‹å‹ âš </h1>
            <div class="warning">
                æ£€æµ‹åˆ°ä¸¥é‡é»„è‰²è¡Œä¸ºï¼çº¯æ´å€¼å·²å½’é›¶ï¼
            </div>
            <button onclick="repent()">é‡æ–°åšäºº</button>
            <button onclick="pureMode()">ç”³è¯·çº¯æ´æ¨¡å¼</button>
        `;
    }
}

function repent() {
    document.getElementById("game").innerHTML = `
        <h2>æ–½ä¸»å›å¤´æ˜¯å²¸ ğŸ™</h2>
        <img src="https://media.giphy.com/media/3o7TKtnuHOHHUjR38Y/giphy.gif" width="200">
        <p>è«æé»„è‰²æƒ¹å¥³æœ‹å‹ç”Ÿæ°”ï½å®¶å’Œä¸‡äº‹å…´ï½</p>
        <button onclick="location.reload()">é‡æ–°å¼€å§‹æ£€æµ‹</button>
    `;
}

function pureMode() {
    window.location.href = "https://ctext.org/analects/zhs";
}
</script>

</body>
</html>
